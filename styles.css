:root{
  --bg:#0f0a1f;
  --panel:#1a1233aa;
  --panel-solid:#1a1233;
  --text:#f6f1ff;
  --muted:#cabdf5;
  --accent:#7b5cff;
  --accent-2:#b08cff;
  --danger:#ff5c8a;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Inter", "Helvetica Neue", Arial, Noto Sans, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--text);
  background:
    radial-gradient(1200px 600px at -10% -10%, #2a1c52 0%, transparent 60%),
    radial-gradient(900px 500px at 110% 10%, #3a2a70 0%, transparent 60%),
    linear-gradient(180deg, #110a22, #0b0716);
}

.screen{display:flex;align-items:center;justify-content:center;min-height:100dvh;padding:24px}
.hidden{display:none}

.hero-card{
  width:min(720px, 100%);
  padding:28px;
  border-radius:24px;
  backdrop-filter: blur(16px);
  background: linear-gradient(180deg, #1b1236cc, #140e27cc);
  box-shadow: 0 20px 60px #0006;
  text-align:center;
}
.logo{font-size:44px}
h1{margin:8px 0 8px}
.tagline{margin:0 0 16px;color:var(--muted)}
.start-card{padding:16px}
.btn{
  appearance:none;border:0;border-radius:14px;padding:12px 18px;
  background:#2b1d4b;color:var(--text);font-weight:600;cursor:pointer
}
.btn:disabled{opacity:.6;cursor:not-allowed}
.btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#120b25}
.btn.ghost{background:transparent;border:1px solid #49337f}
.btn.danger{background:linear-gradient(90deg,#ff5c8a,#ffa3b8);color:#2b0013}
.orline{display:flex;align-items:center;gap:12px;color:#bdaee8;opacity:.9;justify-content:center;margin:14px 0}
.orline:before,.orline:after{content:"";display:block;height:1px;background:#4a3a78;width:82px}
.hint{opacity:.8;font-size:.9rem}

.topbar{
  position:sticky;top:0;z-index:10;
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 18px;margin:12px;border-radius:18px;
  background: linear-gradient(180deg, #1b1236aa, #140e27aa);
  backdrop-filter: blur(12px);
  border:1px solid #3b2b64;
}
.left{display:flex;gap:12px;align-items:center}
.avatar{width:42px;height:42px;border-radius:50%;background:#311d66;display:grid;place-items:center;font-weight:700}
.me .name{outline:none;border:0;margin:0;font-weight:700}
.me .sub{font-size:.85rem;color:var(--muted)}

.nav{display:flex;gap:8px}
.tab{background:#28194f;border:1px solid #3b2b64;color:#ddd;padding:8px 12px;border-radius:12px;cursor:pointer}
.tab.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#120b25;border:0}

.view{display:grid;grid-template-columns: 1.2fr .8fr; gap:18px; padding:12px}
@media (max-width:980px){ .view{grid-template-columns: 1fr} }

.panel{
  background: linear-gradient(180deg, #1b1236aa, #140e27aa);
  border:1px solid #3b2b64; border-radius:18px; padding:18px;
  backdrop-filter: blur(10px);
  box-shadow: 0 18px 40px #0005;
}

.timer-panel .mode-switch{display:flex;gap:10px;margin-bottom:10px}
.chip{background:#2b1d4b;border:1px solid #3b2b64;color:#ddd;padding:8px 12px;border-radius:999px;cursor:pointer}
.chip.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#120b25;border:0}
.grid{display:grid;grid-template-columns: repeat(4, minmax(120px,1fr)); gap:10px}
@media (max-width:720px){ .grid{grid-template-columns:repeat(2,1fr)} }
label{display:flex;align-items:center;gap:8px;background:#241946;border-radius:12px;padding:8px 10px;color:#ddd}
input[type="number"],input[type="text"],input[type="color"]{
  width:100%;padding:8px 10px;border-radius:8px;border:1px solid #46377a;background:#130c2b;color:#f6f1ff
}

.circle-wrap{position:relative;width:min(360px,90%);margin:20px auto}
.ring{width:100%;height:auto}
.track{fill:none;stroke:#3a2b65;stroke-width:10}
.progress{fill:none;stroke:var(--accent);stroke-width:10;stroke-linecap:round;transform:rotate(-90deg);transform-origin:50% 50%}
.circle-center{position:absolute;inset:0;display:grid;place-items:center}
.time{font-size:2.6rem;font-weight:800;letter-spacing:.02em}
.substate{color:var(--muted);margin-top:6px}

.controls{display:flex;align-items:center;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:12px}
.spacer{flex:1}

.today-panel h3{margin:0 0 10px}
.stats{display:flex;gap:16px}
.stat{background:#221845;border:1px solid #3b2b64;border-radius:14px;padding:10px;flex:1;text-align:center}
.stat-num{font-size:1.3rem;font-weight:800}
.stat-label{color:#b4a7e6}

.list{list-style:none;margin:12px 0 0;padding:0;display:flex;flex-direction:column;gap:8px;max-height:300px;overflow:auto}
.list li{background:#221845;border:1px solid #3b2b64;border-radius:12px;padding:10px}

.settings .row{display:flex;align-items:center;gap:12px;margin:10px 0}
